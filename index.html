<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Lit√∫rgico 2026-2028</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Lora:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Lora', serif; transition: background-color 0.5s ease; }
        h1, h2, h3, .font-cinzel { font-family: 'Cinzel', serif; }
        
        .lit-verde { --bg-main: #f0fdf4; --header: #14532d; --accent: #22c55e; }
        .lit-roxo { --bg-main: #faf5ff; --header: #4c1d95; --accent: #a855f7; }
        .lit-branco { --bg-main: #fffcf0; --header: #78350f; --accent: #d4af37; }
        .lit-vermelho { --bg-main: #fef2f2; --header: #7f1d1d; --accent: #ef4444; }

        .religious-border { border: 6px double var(--header); outline: 2px solid var(--accent); }
        
        .group-tag {
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: bold;
            text-transform: uppercase;
            font-size: 0.7rem;
            display: inline-block;
            min-width: 95px;
            text-align: center;
        }

        .color-casais { background-color: #e0f2fe; color: #0369a1; border: 1px solid #0369a1; }
        .color-jovens { background-color: #fefce8; color: #a16207; border: 1px solid #a16207; }
        .color-fatima { background-color: #f0fdf4; color: #15803d; border: 1px solid #15803d; }
        .color-eac { background-color: #faf5ff; color: #7e22ce; border: 1px solid #7e22ce; }
        .color-coral { background-color: #fff1f2; color: #be123c; border: 1px solid #be123c; }
        .color-marco { background-color: #f8fafc; color: #334155; border: 1px solid #334155; }
        .color-marcio { background-color: #ecfdf5; color: #065f46; border: 1px solid #059669; }

        .tab-active { background-color: var(--header) !important; color: white !important; }
        .salmo-box { font-style: italic; color: var(--header); font-size: 0.85rem; line-height: 1.4; font-weight: 500; }
        .date-badge { background: var(--header); color: white; padding: 2px 6px; border-radius: 3px; font-size: 0.75rem; }

        .info-card {
            background-color: white;
            border: 1px solid var(--header);
            border-left: 8px solid var(--header);
        }

        @media print {
            .no-print { display: none !important; }
            body { background: white !important; padding: 0; }
            .religious-border { border: 2px solid #000; outline: none; }
        }
    </style>
</head>
<body id="main-body" class="p-2 md:p-6 lit-verde">

    <div class="max-w-[1550px] mx-auto bg-white shadow-2xl rounded-sm religious-border overflow-hidden">
        
        <!-- Header -->
        <header class="bg-[var(--header)] text-white p-6 text-center border-b-4 border-[var(--accent)] transition-colors duration-500">
            <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                <div class="text-center md:text-left">
                    <p class="text-xs uppercase tracking-widest opacity-80">M√™s Lit√∫rgico Dedicado a:</p>
                    <p id="liturgical-name" class="text-lg font-bold font-cinzel text-[var(--accent)]">Sant√≠ssimo Nome de Jesus</p>
                </div>
                
                <div>
                    <h1 class="text-2xl md:text-4xl font-bold mb-1 font-cinzel uppercase">Par√≥quia Imaculado Cora√ß√£o de Maria</h1>
                    <p class="text-sm italic tracking-widest uppercase opacity-80">Escala de M√∫sica & Liturgia Mensal</p>
                </div>

                <div class="text-center md:text-right">
                    <select id="year-selector" onchange="updateYear()" class="bg-transparent border border-white/30 rounded px-2 py-1 text-white font-bold cursor-pointer hover:bg-white/10 no-print">
                        <option value="2026" class="text-black">Ano 2026</option>
                        <option value="2027" class="text-black">Ano 2027</option>
                        <option value="2028" class="text-black">Ano 2028</option>
                    </select>
                    <p id="display-month-year" class="text-xl font-bold font-cinzel mt-1">Janeiro</p>
                </div>
            </div>
        </header>

        <!-- Significado do Tempo Lit√∫rgico -->
        <div class="bg-[var(--bg-main)] p-4 border-b border-stone-200">
            <div id="tempo-liturgico-box" class="info-card p-4 rounded-r-lg max-w-4xl mx-auto shadow-sm">
                <div class="flex items-center gap-4">
                    <div id="cor-circulo" class="w-12 h-12 rounded-full border-2 border-stone-300 shadow-inner"></div>
                    <div>
                        <h4 class="font-cinzel font-bold text-[var(--header)] text-lg uppercase tracking-wider">
                            Tempo Lit√∫rgico: <span id="tempo-nome">Tempo Comum</span>
                        </h4>
                        <p id="tempo-significado" class="text-sm text-stone-700 italic">
                            O Tempo Comum √© o per√≠odo em que celebramos a vida p√∫blica de Jesus e Suas mensagens de esperan√ßa.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Navigation -->
        <nav class="no-print bg-stone-100 border-b overflow-x-auto flex">
            <div id="month-tabs" class="flex"></div>
        </nav>

        <div class="p-4 md:p-8">
            <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
                
                <!-- Main Content (Table) -->
                <div class="lg:col-span-3">
                    <div class="flex justify-between items-end mb-6 border-b pb-2 border-stone-200">
                        <h2 id="current-month-title" class="text-3xl font-bold text-[var(--header)] font-cinzel uppercase">Janeiro</h2>
                        <div class="no-print flex gap-2">
                            <button onclick="window.print()" class="bg-stone-800 text-white text-xs py-2 px-4 rounded shadow">üñ®Ô∏è PDF / IMPRIMIR</button>
                        </div>
                    </div>

                    <div class="overflow-x-auto shadow-sm rounded-lg border border-stone-200">
                        <table class="w-full border-collapse bg-white">
                            <thead>
                                <tr class="text-[10px] uppercase font-bold text-stone-700 bg-stone-50">
                                    <th class="p-3 border-b border-r w-32">Datas (Fim de Semana)</th>
                                    <th class="p-3 border-b border-r text-left">Salmo Responsorial Sugerido</th>
                                    <th class="p-3 border-b border-r">S√°b (16h)</th>
                                    <th class="p-3 border-b border-r">Dom (07:30)</th>
                                    <th class="p-3 border-b border-r">Dom (09:00)</th>
                                    <th class="p-3 border-b border-r">Dom (17:00)</th>
                                    <th class="p-3 border-b">Dom (19:00)</th>
                                </tr>
                            </thead>
                            <tbody id="escala-body" class="text-center"></tbody>
                        </table>
                    </div>

                    <!-- Legend -->
                    <div class="mt-6 flex flex-wrap gap-3 justify-center">
                        <span class="group-tag color-casais scale-90">CASAIS</span>
                        <span class="group-tag color-jovens scale-90">JOVENS</span>
                        <span class="group-tag color-coral scale-90">CORAL</span>
                        <span class="group-tag color-fatima scale-90">F√ÅTIMA</span>
                        <span class="group-tag color-eac scale-90">EAC</span>
                        <span class="group-tag color-marco scale-90">MARCO</span>
                        <span class="group-tag color-marcio scale-90">M√ÅRCIO</span>
                    </div>
                </div>

                <!-- Sidebar (Datas Importantes) -->
                <div class="lg:col-span-1 space-y-8">
                    <section class="bg-stone-50 p-4 rounded-lg border-2 border-dashed border-stone-300">
                        <h3 class="font-cinzel font-bold text-[var(--header)] mb-4 border-b pb-2 flex items-center gap-2">
                            <span>üìÖ</span> Datas Importantes
                        </h3>
                        <div id="important-dates-list" class="space-y-2"></div>
                    </section>
                </div>
            </div>

            <!-- Footer Section: Recomenda√ß√µes e Orienta√ß√µes T√©cnicas -->
            <div class="mt-12 grid grid-cols-1 md:grid-cols-2 gap-8 border-t-2 border-stone-200 pt-8">
                <!-- Recomenda√ß√µes Importantes -->
                <div class="bg-[var(--bg-main)] p-6 rounded-lg border-l-4 border-[var(--header)] shadow-sm">
                    <h3 class="font-cinzel font-bold text-[var(--header)] text-xl mb-4">Recomenda√ß√µes Importantes</h3>
                    <ul class="space-y-4 text-sm leading-relaxed text-stone-700">
                        <li>
                            <strong class="text-[var(--header)]">Substitui√ß√µes:</strong> Em caso de impossibilidade, o grupo/cantor deve providenciar sua pr√≥pria substitui√ß√£o com anteced√™ncia m√≠nima de 48h.
                        </li>
                        <li>
                            <strong class="text-[var(--header)]">Ensaios:</strong> Recomenda-se o ensaio do Salmo e cantos espec√≠ficos com pelo menos 30 minutos antes de cada celebra√ß√£o.
                        </li>
                        <li>
                            <strong class="text-[var(--header)]">Afinidade Lit√∫rgica:</strong> Consultar sempre a liturgia do dia para escolha de cantos adequados ao tempo lit√∫rgico (Avento, Quaresma, etc).
                        </li>
                    </ul>
                </div>

                <!-- Orienta√ß√µes T√©cnicas -->
                <div class="bg-stone-50 p-6 rounded-lg border-l-4 border-stone-400 shadow-sm">
                    <h3 class="font-cinzel font-bold text-stone-800 text-xl mb-4">Orienta√ß√µes T√©cnicas</h3>
                    <ul class="space-y-4 text-sm leading-relaxed text-stone-700">
                        <li>
                            <strong class="text-stone-900">Microfones:</strong> Verificar a altura e o volume dos microfones no in√≠cio da celebra√ß√£o junto √† equipe de som.
                        </li>
                        <li>
                            <strong class="text-stone-900">Postura:</strong> Manter a sobriedade e o recolhimento adequados ao servi√ßo do altar.
                        </li>
                        <li>
                            <strong class="text-stone-900">Ora√ß√£o:</strong> A m√∫sica na liturgia √© ora√ß√£o cantada; prepare o esp√≠rito antes da voz.
                        </li>
                    </ul>
                </div>
            </div>

            <div class="mt-8 text-center">
                <p class="font-cinzel text-xl text-[var(--header)] italic">"Cantai ao Senhor um c√¢ntico novo"</p>
            </div>
        </div>
    </div>

    <script>
        const mesesNomes = ["Janeiro", "Fevereiro", "Mar√ßo", "Abril", "Maio", "Junho", "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"];
        
        const mesLiturgicoDedicado = {
            0: "Sant√≠ssimo Nome de Jesus",
            1: "Sant√≠ssima Fam√≠lia",
            2: "S√£o Jos√©",
            3: "Eucaristia e o Divino Esp√≠rito Santo",
            4: "Virgem Maria",
            5: "Sagrado Cora√ß√£o de Jesus",
            6: "Precios√≠ssimo Sangue de Jesus",
            7: "Voca√ß√µes",
            8: "B√≠blia",
            9: "Miss√µes e o Santo Ros√°rio",
            10: "Fi√©is Defuntos",
            11: "Advento e Nascimento de Jesus"
        };

        const definicaoTempos = {
            "lit-verde": { 
                nome: "Tempo Comum", 
                cor: "Verde",
                hexa: "#14532d",
                significado: "Simboliza a esperan√ßa e o crescimento na f√©. Celebramos o Reino de Deus entre n√≥s e a miss√£o da Igreja." 
            },
            "lit-roxo": { 
                nome: "Tempo do Advento / Quaresma", 
                cor: "Roxo",
                hexa: "#4c1d95",
                significado: "Tempo de reflex√£o, penit√™ncia e prepara√ß√£o. Simboliza a espera vigilante (Advento) ou a convers√£o (Quaresma)." 
            },
            "lit-branco": { 
                nome: "Tempo do Natal / P√°scoa", 
                cor: "Branco / Dourado",
                hexa: "#d4af37",
                significado: "Cor da luz e da alegria. Simboliza a pureza, a ressurrei√ß√£o de Cristo e os momentos solenes da nossa f√©." 
            },
            "lit-vermelho": { 
                nome: "Pentecostes / Festas de M√°rtires", 
                cor: "Vermelho",
                hexa: "#7f1d1d",
                significado: "Simboliza o fogo do Esp√≠rito Santo e o sangue do mart√≠rio. Lembra o amor ardente de Deus." 
            }
        };

        const coresLiturgicas = {
            0: "lit-branco", 1: "lit-verde", 2: "lit-roxo", 3: "lit-branco",
            4: "lit-branco", 5: "lit-verde", 6: "lit-verde", 7: "lit-verde",
            8: "lit-verde", 9: "lit-verde", 10: "lit-roxo", 11: "lit-roxo"
        };

        const datasImportantes = [
            { d: "01/01", t: "Santa Maria, M√£e de Deus" },
            { d: "11/01", t: "Batismo do Senhor" },
            { d: "20/01", t: "Dia de S√£o Sebasti√£o" },
            { d: "18/02", t: "Quarta-feira de Cinzas" },
            { d: "19/03", t: "Dia de S√£o Jos√©" },
            { d: "03/04", t: "Sexta-feira Santa" },
            { d: "05/04", t: "P√°scoa" },
            { d: "13/05", t: "N. Sra. de F√°tima" },
            { d: "24/05", t: "Pentecostes" },
            { d: "04/06", t: "Corpus Christi" },
            { d: "13/06", t: "Santo Ant√¥nio" },
            { d: "24/06", t: "S√£o Jo√£o Batista" },
            { d: "15/08", t: "Assun√ß√£o de N. Sra." },
            { d: "12/10", t: "Nossa Sra. Aparecida" },
            { d: "01/11", t: "Todos os Santos" },
            { d: "02/11", t: "Fi√©is Defuntos" },
            { d: "08/12", t: "Imaculada Concei√ß√£o" },
            { d: "25/12", t: "Natal do Senhor" }
        ];

        const databaseSalmos = [
            "Salmo: O Senhor √© minha luz e salva√ß√£o!",
            "Salmo: Provai e vede como o Senhor √© bom!",
            "Salmo: Feliz o homem que teme o Senhor!",
            "Salmo: Saciai-nos, √≥ Senhor, com vosso amor!",
            "Salmo: Grandes coisas fez o Senhor por n√≥s!",
            "Salmo: O Senhor √© o meu pastor, nada me falta!",
            "Salmo: Cantai ao Senhor porque ele √© bom!"
        ];

        const escalaCiclo = [
            { sab: "M√°rcio", d7: "Casais", d9: "F√°tima", d17: "Jovens", d19: "Coral" },
            { sab: "Coral", d7: "Casais", d9: "F√°tima", d17: "Jovens", d19: "Marco" },
            { sab: "Jovens", d7: "Casais", d9: "F√°tima", d17: "EAC", d19: "Coral" },
            { sab: "Marco", d7: "Casais", d9: "F√°tima", d17: "Jovens", d19: "Coral" },
            { sab: "M√°rcio", d7: "Casais", d9: "F√°tima", d17: "EAC", d19: "Marco" }
        ];

        let anoAtual = 2026;
        let mesAtualIdx = 0;

        function getStyle(name) {
            const n = name.toLowerCase();
            if (n.includes('casais')) return 'color-casais';
            if (n.includes('jovens')) return 'color-jovens';
            if (n.includes('fatima') || n.includes('f√°tima')) return 'color-fatima';
            if (n.includes('eac')) return 'color-eac';
            if (n.includes('coral')) return 'color-coral';
            if (n.includes('marco')) return 'color-marco';
            if (n.includes('marcio') || n.includes('m√°rcio')) return 'color-marcio';
            return '';
        }

        function getWeekendDates(year, month) {
            let dates = [];
            let date = new Date(year, month, 1);
            while (date.getMonth() === month) {
                if (date.getDay() === 6) {
                    let sab = date.getDate();
                    let dom = new Date(year, month, sab + 1);
                    dates.push(`${sab < 10 ? '0'+sab : sab}/${(month+1 < 10 ? '0'+(month+1) : month+1)} e ${dom.getMonth() === month ? (dom.getDate() < 10 ? '0'+dom.getDate() : dom.getDate()) : '01/prox'}`);
                }
                date.setDate(date.getDate() + 1);
            }
            return dates;
        }

        function updateYear() {
            anoAtual = parseInt(document.getElementById('year-selector').value);
            if (anoAtual === 2028 && mesAtualIdx > 1) mesAtualIdx = 1;
            render();
        }

        function render() {
            const limitMeses = (anoAtual === 2028) ? 2 : 12;
            const colorKey = coresLiturgicas[mesAtualIdx];
            const tempoInfo = definicaoTempos[colorKey];

            document.body.className = `p-2 md:p-6 ${colorKey}`;
            document.getElementById('liturgical-name').innerText = mesLiturgicoDedicado[mesAtualIdx];
            document.getElementById('display-month-year').innerText = `${mesesNomes[mesAtualIdx]} ${anoAtual}`;
            document.getElementById('current-month-title').innerText = mesesNomes[mesAtualIdx];

            // Atualiza√ß√£o do box de Tempo Lit√∫rgico
            document.getElementById('cor-circulo').style.backgroundColor = tempoInfo.hexa;
            document.getElementById('tempo-nome').innerText = tempoInfo.nome + " (" + tempoInfo.cor + ")";
            document.getElementById('tempo-significado').innerText = tempoInfo.significado;

            const tabContainer = document.getElementById('month-tabs');
            tabContainer.innerHTML = '';
            for(let i=0; i < limitMeses; i++) {
                tabContainer.innerHTML += `
                    <button onclick="mesAtualIdx=${i}; render()" class="px-4 py-3 text-[10px] font-bold uppercase border-r border-stone-200 transition-all ${mesAtualIdx === i ? 'tab-active' : 'text-stone-500 hover:bg-stone-200'}">
                        ${mesesNomes[i].substring(0,3)}
                    </button>
                `;
            }

            const body = document.getElementById('escala-body');
            body.innerHTML = '';
            const dates = getWeekendDates(anoAtual, mesAtualIdx);
            
            let totalWeekendsBefore = 0;
            for(let y = 2026; y < anoAtual; y++) {
                for(let m = 0; m < 12; m++) { totalWeekendsBefore += getWeekendDates(y, m).length; }
            }
            for(let m = 0; m < mesAtualIdx; m++) {
                totalWeekendsBefore += getWeekendDates(anoAtual, m).length;
            }

            dates.forEach((d, i) => {
                const globalIndex = totalWeekendsBefore + i;
                const esc = escalaCiclo[globalIndex % escalaCiclo.length];
                body.innerHTML += `
                    <tr class="border-b border-stone-100 hover:bg-stone-50/50 transition-colors">
                        <td class="p-4 bg-stone-50/30 border-r border-stone-200">
                            <span class="date-badge mb-1 inline-block">${d}</span>
                        </td>
                        <td class="p-3 border-r text-left">
                            <div class="salmo-box">${databaseSalmos[globalIndex % databaseSalmos.length]}</div>
                        </td>
                        <td class="p-3 border-r"><span class="group-tag ${getStyle(esc.sab)}">${esc.sab}</span></td>
                        <td class="p-3 border-r"><span class="group-tag ${getStyle(esc.d7)}">${esc.d7}</span></td>
                        <td class="p-3 border-r"><span class="group-tag ${getStyle(esc.d9)}">${esc.d9}</span></td>
                        <td class="p-3 border-r"><span class="group-tag ${getStyle(esc.d17)}">${esc.d17}</span></td>
                        <td class="p-3"><span class="group-tag ${getStyle(esc.d19)}">${esc.d19}</span></td>
                    </tr>
                `;
            });

            const datesList = document.getElementById('important-dates-list');
            const mesFormat = (mesAtualIdx + 1).toString().padStart(2, '0');
            const filter = datasImportantes.filter(item => item.d.endsWith(`/${mesFormat}`));
            
            datesList.innerHTML = filter.length > 0 
                ? filter.map(item => `
                    <div class="p-2 border-l-4 border-[var(--accent)] bg-white mb-2 text-sm">
                        <span class="font-bold text-[var(--header)]">${item.d}</span>: ${item.t}
                    </div>
                `).join('')
                : '<p class="text-xs italic text-stone-400">Sem datas solenes registradas para este m√™s.</p>';
        }

        render();
    </script>
</body>
</html>